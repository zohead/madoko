// koka generated module: "optionsSandbox"
if (typeof define !== 'function') { var define = require('amdefine')(module) }
define(['./std_core', './std_log', './std_path', './common', './options'], function($std_core, $std_log, $std_path, $common, $options) {
"use strict";
 
// koka declarations:
function safeBibtex(s, def)  /* (s : string, def : string) -> string */  {
  var _x0 = ((s === "bibtex") || (s === "bibtex8"));
  return (_x0) ? s : def;
}
function safeLatex(s, def)  /* (s : string, def : string) -> string */  {
  var _x0 = ((s === "latex") || ((s === "xelatex") || (s === "pdflatex")));
  return (_x0) ? s : def;
}
function updateSandbox(options, key, lvalue, value, ivalue)  /* (options : options/options, key : string, lvalue : string, value : string, ivalue : int) -> options/options */  {
  var _x0 = !($options.sandbox(options));
  if (_x0) {
    if ((key === "latex")) {
      var arg_503 = options;
      var _x1 = ((value === "")) ? "latex" : value;
      var arg_555 = _x1;
      var arg_504 = undefined;
      var arg_505 = undefined;
      var arg_506 = undefined;
      var arg_507 = undefined;
      var arg_508 = undefined;
      var arg_509 = undefined;
      var arg_510 = undefined;
      var arg_511 = undefined;
      var arg_512 = undefined;
      var arg_513 = undefined;
      var arg_514 = undefined;
      var arg_515 = undefined;
      var arg_516 = undefined;
      var arg_517 = undefined;
      var arg_518 = undefined;
      var arg_519 = undefined;
      var arg_520 = undefined;
      var arg_521 = undefined;
      var arg_522 = undefined;
      var arg_523 = undefined;
      var arg_524 = undefined;
      var arg_525 = undefined;
      var arg_526 = undefined;
      var arg_527 = undefined;
      var arg_528 = undefined;
      var arg_529 = undefined;
      var arg_530 = undefined;
      var arg_531 = undefined;
      var arg_532 = undefined;
      var arg_533 = undefined;
      var arg_534 = undefined;
      var arg_535 = undefined;
      var arg_536 = undefined;
      var arg_537 = undefined;
      var arg_538 = undefined;
      var arg_539 = undefined;
      var arg_540 = undefined;
      var arg_541 = undefined;
      var arg_542 = undefined;
      var arg_543 = undefined;
      var arg_544 = undefined;
      var arg_545 = undefined;
      var arg_546 = undefined;
      var arg_547 = undefined;
      var arg_548 = undefined;
      var arg_549 = undefined;
      var arg_550 = undefined;
      var arg_551 = undefined;
      var arg_552 = undefined;
      var arg_553 = undefined;
      var arg_554 = undefined;
      var arg_556 = undefined;
      var arg_557 = undefined;
      var arg_558 = undefined;
      var arg_559 = undefined;
      var arg_560 = undefined;
      var arg_561 = undefined;
      var arg_562 = undefined;
      var arg_563 = undefined;
      var arg_564 = undefined;
      var arg_565 = undefined;
      var arg_566 = undefined;
      return $options._copy_1(arg_503, arg_504, arg_505, arg_506, arg_507, arg_508, arg_509, arg_510, arg_511, arg_512, arg_513, arg_514, arg_515, arg_516, arg_517, arg_518, arg_519, arg_520, arg_521, arg_522, arg_523, arg_524, arg_525, arg_526, arg_527, arg_528, arg_529, arg_530, arg_531, arg_532, arg_533, arg_534, arg_535, arg_536, arg_537, arg_538, arg_539, arg_540, arg_541, arg_542, arg_543, arg_544, arg_545, arg_546, arg_547, arg_548, arg_549, arg_550, arg_551, arg_552, arg_553, arg_554, arg_555, arg_556, arg_557, arg_558, arg_559, arg_560, arg_561, arg_562, arg_563, arg_564, arg_565, arg_566);
    }
    else {
      if ((key === "dvipng")) {
        var arg_918 = options;
        var arg_858 = $options.math(options);
        var _x1 = ((value === "")) ? "dvipng" : value;
        var arg_878 = _x1;
        var arg_859 = undefined;
        var arg_860 = undefined;
        var arg_861 = undefined;
        var arg_862 = undefined;
        var arg_863 = undefined;
        var arg_864 = undefined;
        var arg_865 = undefined;
        var arg_866 = undefined;
        var arg_867 = undefined;
        var arg_868 = undefined;
        var arg_869 = undefined;
        var arg_870 = undefined;
        var arg_871 = undefined;
        var arg_872 = undefined;
        var arg_873 = undefined;
        var arg_874 = undefined;
        var arg_875 = undefined;
        var arg_876 = undefined;
        var arg_877 = undefined;
        var arg_879 = undefined;
        var arg_880 = undefined;
        var arg_881 = undefined;
        var arg_882 = undefined;
        var arg_883 = undefined;
        var arg_884 = undefined;
        var arg_885 = undefined;
        var arg_965 = $options._copy(arg_858, arg_859, arg_860, arg_861, arg_862, arg_863, arg_864, arg_865, arg_866, arg_867, arg_868, arg_869, arg_870, arg_871, arg_872, arg_873, arg_874, arg_875, arg_876, arg_877, arg_878, arg_879, arg_880, arg_881, arg_882, arg_883, arg_884, arg_885);
        var arg_919 = undefined;
        var arg_920 = undefined;
        var arg_921 = undefined;
        var arg_922 = undefined;
        var arg_923 = undefined;
        var arg_924 = undefined;
        var arg_925 = undefined;
        var arg_926 = undefined;
        var arg_927 = undefined;
        var arg_928 = undefined;
        var arg_929 = undefined;
        var arg_930 = undefined;
        var arg_931 = undefined;
        var arg_932 = undefined;
        var arg_933 = undefined;
        var arg_934 = undefined;
        var arg_935 = undefined;
        var arg_936 = undefined;
        var arg_937 = undefined;
        var arg_938 = undefined;
        var arg_939 = undefined;
        var arg_940 = undefined;
        var arg_941 = undefined;
        var arg_942 = undefined;
        var arg_943 = undefined;
        var arg_944 = undefined;
        var arg_945 = undefined;
        var arg_946 = undefined;
        var arg_947 = undefined;
        var arg_948 = undefined;
        var arg_949 = undefined;
        var arg_950 = undefined;
        var arg_951 = undefined;
        var arg_952 = undefined;
        var arg_953 = undefined;
        var arg_954 = undefined;
        var arg_955 = undefined;
        var arg_956 = undefined;
        var arg_957 = undefined;
        var arg_958 = undefined;
        var arg_959 = undefined;
        var arg_960 = undefined;
        var arg_961 = undefined;
        var arg_962 = undefined;
        var arg_963 = undefined;
        var arg_964 = undefined;
        var arg_966 = undefined;
        var arg_967 = undefined;
        var arg_968 = undefined;
        var arg_969 = undefined;
        var arg_970 = undefined;
        var arg_971 = undefined;
        var arg_972 = undefined;
        var arg_973 = undefined;
        var arg_974 = undefined;
        var arg_975 = undefined;
        var arg_976 = undefined;
        var arg_977 = undefined;
        var arg_978 = undefined;
        var arg_979 = undefined;
        var arg_980 = undefined;
        var arg_981 = undefined;
        return $options._copy_1(arg_918, arg_919, arg_920, arg_921, arg_922, arg_923, arg_924, arg_925, arg_926, arg_927, arg_928, arg_929, arg_930, arg_931, arg_932, arg_933, arg_934, arg_935, arg_936, arg_937, arg_938, arg_939, arg_940, arg_941, arg_942, arg_943, arg_944, arg_945, arg_946, arg_947, arg_948, arg_949, arg_950, arg_951, arg_952, arg_953, arg_954, arg_955, arg_956, arg_957, arg_958, arg_959, arg_960, arg_961, arg_962, arg_963, arg_964, arg_965, arg_966, arg_967, arg_968, arg_969, arg_970, arg_971, arg_972, arg_973, arg_974, arg_975, arg_976, arg_977, arg_978, arg_979, arg_980, arg_981);
      }
      else {
        if ((key === "dvisvg")) {
          var arg_1333 = options;
          var arg_1273 = $options.math(options);
          var _x1 = ((value === "")) ? "dvisvgm" : value;
          var arg_1294 = _x1;
          var arg_1274 = undefined;
          var arg_1275 = undefined;
          var arg_1276 = undefined;
          var arg_1277 = undefined;
          var arg_1278 = undefined;
          var arg_1279 = undefined;
          var arg_1280 = undefined;
          var arg_1281 = undefined;
          var arg_1282 = undefined;
          var arg_1283 = undefined;
          var arg_1284 = undefined;
          var arg_1285 = undefined;
          var arg_1286 = undefined;
          var arg_1287 = undefined;
          var arg_1288 = undefined;
          var arg_1289 = undefined;
          var arg_1290 = undefined;
          var arg_1291 = undefined;
          var arg_1292 = undefined;
          var arg_1293 = undefined;
          var arg_1295 = undefined;
          var arg_1296 = undefined;
          var arg_1297 = undefined;
          var arg_1298 = undefined;
          var arg_1299 = undefined;
          var arg_1300 = undefined;
          var arg_1380 = $options._copy(arg_1273, arg_1274, arg_1275, arg_1276, arg_1277, arg_1278, arg_1279, arg_1280, arg_1281, arg_1282, arg_1283, arg_1284, arg_1285, arg_1286, arg_1287, arg_1288, arg_1289, arg_1290, arg_1291, arg_1292, arg_1293, arg_1294, arg_1295, arg_1296, arg_1297, arg_1298, arg_1299, arg_1300);
          var arg_1334 = undefined;
          var arg_1335 = undefined;
          var arg_1336 = undefined;
          var arg_1337 = undefined;
          var arg_1338 = undefined;
          var arg_1339 = undefined;
          var arg_1340 = undefined;
          var arg_1341 = undefined;
          var arg_1342 = undefined;
          var arg_1343 = undefined;
          var arg_1344 = undefined;
          var arg_1345 = undefined;
          var arg_1346 = undefined;
          var arg_1347 = undefined;
          var arg_1348 = undefined;
          var arg_1349 = undefined;
          var arg_1350 = undefined;
          var arg_1351 = undefined;
          var arg_1352 = undefined;
          var arg_1353 = undefined;
          var arg_1354 = undefined;
          var arg_1355 = undefined;
          var arg_1356 = undefined;
          var arg_1357 = undefined;
          var arg_1358 = undefined;
          var arg_1359 = undefined;
          var arg_1360 = undefined;
          var arg_1361 = undefined;
          var arg_1362 = undefined;
          var arg_1363 = undefined;
          var arg_1364 = undefined;
          var arg_1365 = undefined;
          var arg_1366 = undefined;
          var arg_1367 = undefined;
          var arg_1368 = undefined;
          var arg_1369 = undefined;
          var arg_1370 = undefined;
          var arg_1371 = undefined;
          var arg_1372 = undefined;
          var arg_1373 = undefined;
          var arg_1374 = undefined;
          var arg_1375 = undefined;
          var arg_1376 = undefined;
          var arg_1377 = undefined;
          var arg_1378 = undefined;
          var arg_1379 = undefined;
          var arg_1381 = undefined;
          var arg_1382 = undefined;
          var arg_1383 = undefined;
          var arg_1384 = undefined;
          var arg_1385 = undefined;
          var arg_1386 = undefined;
          var arg_1387 = undefined;
          var arg_1388 = undefined;
          var arg_1389 = undefined;
          var arg_1390 = undefined;
          var arg_1391 = undefined;
          var arg_1392 = undefined;
          var arg_1393 = undefined;
          var arg_1394 = undefined;
          var arg_1395 = undefined;
          var arg_1396 = undefined;
          return $options._copy_1(arg_1333, arg_1334, arg_1335, arg_1336, arg_1337, arg_1338, arg_1339, arg_1340, arg_1341, arg_1342, arg_1343, arg_1344, arg_1345, arg_1346, arg_1347, arg_1348, arg_1349, arg_1350, arg_1351, arg_1352, arg_1353, arg_1354, arg_1355, arg_1356, arg_1357, arg_1358, arg_1359, arg_1360, arg_1361, arg_1362, arg_1363, arg_1364, arg_1365, arg_1366, arg_1367, arg_1368, arg_1369, arg_1370, arg_1371, arg_1372, arg_1373, arg_1374, arg_1375, arg_1376, arg_1377, arg_1378, arg_1379, arg_1380, arg_1381, arg_1382, arg_1383, arg_1384, arg_1385, arg_1386, arg_1387, arg_1388, arg_1389, arg_1390, arg_1391, arg_1392, arg_1393, arg_1394, arg_1395, arg_1396);
        }
        else {
          var _x1 = ((key === "pdflatex") || (key === "pdf-latex"));
          if (_x1) {
            var arg_1681 = options;
            var _x2 = ((lvalue === "true")) ? "default" : value;
            var arg_1731 = _x2;
            var arg_1682 = undefined;
            var arg_1683 = undefined;
            var arg_1684 = undefined;
            var arg_1685 = undefined;
            var arg_1686 = undefined;
            var arg_1687 = undefined;
            var arg_1688 = undefined;
            var arg_1689 = undefined;
            var arg_1690 = undefined;
            var arg_1691 = undefined;
            var arg_1692 = undefined;
            var arg_1693 = undefined;
            var arg_1694 = undefined;
            var arg_1695 = undefined;
            var arg_1696 = undefined;
            var arg_1697 = undefined;
            var arg_1698 = undefined;
            var arg_1699 = undefined;
            var arg_1700 = undefined;
            var arg_1701 = undefined;
            var arg_1702 = undefined;
            var arg_1703 = undefined;
            var arg_1704 = undefined;
            var arg_1705 = undefined;
            var arg_1706 = undefined;
            var arg_1707 = undefined;
            var arg_1708 = undefined;
            var arg_1709 = undefined;
            var arg_1710 = undefined;
            var arg_1711 = undefined;
            var arg_1712 = undefined;
            var arg_1713 = undefined;
            var arg_1714 = undefined;
            var arg_1715 = undefined;
            var arg_1716 = undefined;
            var arg_1717 = undefined;
            var arg_1718 = undefined;
            var arg_1719 = undefined;
            var arg_1720 = undefined;
            var arg_1721 = undefined;
            var arg_1722 = undefined;
            var arg_1723 = undefined;
            var arg_1724 = undefined;
            var arg_1725 = undefined;
            var arg_1726 = undefined;
            var arg_1727 = undefined;
            var arg_1728 = undefined;
            var arg_1729 = undefined;
            var arg_1730 = undefined;
            var arg_1732 = undefined;
            var arg_1733 = undefined;
            var arg_1734 = undefined;
            var arg_1735 = undefined;
            var arg_1736 = undefined;
            var arg_1737 = undefined;
            var arg_1738 = undefined;
            var arg_1739 = undefined;
            var arg_1740 = undefined;
            var arg_1741 = undefined;
            var arg_1742 = undefined;
            var arg_1743 = undefined;
            var arg_1744 = undefined;
            return $options._copy_1(arg_1681, arg_1682, arg_1683, arg_1684, arg_1685, arg_1686, arg_1687, arg_1688, arg_1689, arg_1690, arg_1691, arg_1692, arg_1693, arg_1694, arg_1695, arg_1696, arg_1697, arg_1698, arg_1699, arg_1700, arg_1701, arg_1702, arg_1703, arg_1704, arg_1705, arg_1706, arg_1707, arg_1708, arg_1709, arg_1710, arg_1711, arg_1712, arg_1713, arg_1714, arg_1715, arg_1716, arg_1717, arg_1718, arg_1719, arg_1720, arg_1721, arg_1722, arg_1723, arg_1724, arg_1725, arg_1726, arg_1727, arg_1728, arg_1729, arg_1730, arg_1731, arg_1732, arg_1733, arg_1734, arg_1735, arg_1736, arg_1737, arg_1738, arg_1739, arg_1740, arg_1741, arg_1742, arg_1743, arg_1744);
          }
          else {
            var _x2 = ((key === "math-latex-full") || ((key === "math-pdflatex") || (key === "math-pdf-latex")));
            if (_x2) {
              var arg_2216 = options;
              var arg_2156 = $options.math(options);
              var _x3 = ((lvalue === "true")) ? "default" : value;
              var arg_2179 = _x3;
              var arg_2157 = undefined;
              var arg_2158 = undefined;
              var arg_2159 = undefined;
              var arg_2160 = undefined;
              var arg_2161 = undefined;
              var arg_2162 = undefined;
              var arg_2163 = undefined;
              var arg_2164 = undefined;
              var arg_2165 = undefined;
              var arg_2166 = undefined;
              var arg_2167 = undefined;
              var arg_2168 = undefined;
              var arg_2169 = undefined;
              var arg_2170 = undefined;
              var arg_2171 = undefined;
              var arg_2172 = undefined;
              var arg_2173 = undefined;
              var arg_2174 = undefined;
              var arg_2175 = undefined;
              var arg_2176 = undefined;
              var arg_2177 = undefined;
              var arg_2178 = undefined;
              var arg_2180 = undefined;
              var arg_2181 = undefined;
              var arg_2182 = undefined;
              var arg_2183 = undefined;
              var arg_2263 = $options._copy(arg_2156, arg_2157, arg_2158, arg_2159, arg_2160, arg_2161, arg_2162, arg_2163, arg_2164, arg_2165, arg_2166, arg_2167, arg_2168, arg_2169, arg_2170, arg_2171, arg_2172, arg_2173, arg_2174, arg_2175, arg_2176, arg_2177, arg_2178, arg_2179, arg_2180, arg_2181, arg_2182, arg_2183);
              var arg_2217 = undefined;
              var arg_2218 = undefined;
              var arg_2219 = undefined;
              var arg_2220 = undefined;
              var arg_2221 = undefined;
              var arg_2222 = undefined;
              var arg_2223 = undefined;
              var arg_2224 = undefined;
              var arg_2225 = undefined;
              var arg_2226 = undefined;
              var arg_2227 = undefined;
              var arg_2228 = undefined;
              var arg_2229 = undefined;
              var arg_2230 = undefined;
              var arg_2231 = undefined;
              var arg_2232 = undefined;
              var arg_2233 = undefined;
              var arg_2234 = undefined;
              var arg_2235 = undefined;
              var arg_2236 = undefined;
              var arg_2237 = undefined;
              var arg_2238 = undefined;
              var arg_2239 = undefined;
              var arg_2240 = undefined;
              var arg_2241 = undefined;
              var arg_2242 = undefined;
              var arg_2243 = undefined;
              var arg_2244 = undefined;
              var arg_2245 = undefined;
              var arg_2246 = undefined;
              var arg_2247 = undefined;
              var arg_2248 = undefined;
              var arg_2249 = undefined;
              var arg_2250 = undefined;
              var arg_2251 = undefined;
              var arg_2252 = undefined;
              var arg_2253 = undefined;
              var arg_2254 = undefined;
              var arg_2255 = undefined;
              var arg_2256 = undefined;
              var arg_2257 = undefined;
              var arg_2258 = undefined;
              var arg_2259 = undefined;
              var arg_2260 = undefined;
              var arg_2261 = undefined;
              var arg_2262 = undefined;
              var arg_2264 = undefined;
              var arg_2265 = undefined;
              var arg_2266 = undefined;
              var arg_2267 = undefined;
              var arg_2268 = undefined;
              var arg_2269 = undefined;
              var arg_2270 = undefined;
              var arg_2271 = undefined;
              var arg_2272 = undefined;
              var arg_2273 = undefined;
              var arg_2274 = undefined;
              var arg_2275 = undefined;
              var arg_2276 = undefined;
              var arg_2277 = undefined;
              var arg_2278 = undefined;
              var arg_2279 = undefined;
              return $options._copy_1(arg_2216, arg_2217, arg_2218, arg_2219, arg_2220, arg_2221, arg_2222, arg_2223, arg_2224, arg_2225, arg_2226, arg_2227, arg_2228, arg_2229, arg_2230, arg_2231, arg_2232, arg_2233, arg_2234, arg_2235, arg_2236, arg_2237, arg_2238, arg_2239, arg_2240, arg_2241, arg_2242, arg_2243, arg_2244, arg_2245, arg_2246, arg_2247, arg_2248, arg_2249, arg_2250, arg_2251, arg_2252, arg_2253, arg_2254, arg_2255, arg_2256, arg_2257, arg_2258, arg_2259, arg_2260, arg_2261, arg_2262, arg_2263, arg_2264, arg_2265, arg_2266, arg_2267, arg_2268, arg_2269, arg_2270, arg_2271, arg_2272, arg_2273, arg_2274, arg_2275, arg_2276, arg_2277, arg_2278, arg_2279);
            }
            else {
              if ((key === "math-latex")) {
                var arg_2631 = options;
                var arg_2571 = $options.math(options);
                var _x3 = ((lvalue === "true")) ? "default" : value;
                var arg_2593 = _x3;
                var arg_2572 = undefined;
                var arg_2573 = undefined;
                var arg_2574 = undefined;
                var arg_2575 = undefined;
                var arg_2576 = undefined;
                var arg_2577 = undefined;
                var arg_2578 = undefined;
                var arg_2579 = undefined;
                var arg_2580 = undefined;
                var arg_2581 = undefined;
                var arg_2582 = undefined;
                var arg_2583 = undefined;
                var arg_2584 = undefined;
                var arg_2585 = undefined;
                var arg_2586 = undefined;
                var arg_2587 = undefined;
                var arg_2588 = undefined;
                var arg_2589 = undefined;
                var arg_2590 = undefined;
                var arg_2591 = undefined;
                var arg_2592 = undefined;
                var arg_2594 = undefined;
                var arg_2595 = undefined;
                var arg_2596 = undefined;
                var arg_2597 = undefined;
                var arg_2598 = undefined;
                var arg_2678 = $options._copy(arg_2571, arg_2572, arg_2573, arg_2574, arg_2575, arg_2576, arg_2577, arg_2578, arg_2579, arg_2580, arg_2581, arg_2582, arg_2583, arg_2584, arg_2585, arg_2586, arg_2587, arg_2588, arg_2589, arg_2590, arg_2591, arg_2592, arg_2593, arg_2594, arg_2595, arg_2596, arg_2597, arg_2598);
                var arg_2632 = undefined;
                var arg_2633 = undefined;
                var arg_2634 = undefined;
                var arg_2635 = undefined;
                var arg_2636 = undefined;
                var arg_2637 = undefined;
                var arg_2638 = undefined;
                var arg_2639 = undefined;
                var arg_2640 = undefined;
                var arg_2641 = undefined;
                var arg_2642 = undefined;
                var arg_2643 = undefined;
                var arg_2644 = undefined;
                var arg_2645 = undefined;
                var arg_2646 = undefined;
                var arg_2647 = undefined;
                var arg_2648 = undefined;
                var arg_2649 = undefined;
                var arg_2650 = undefined;
                var arg_2651 = undefined;
                var arg_2652 = undefined;
                var arg_2653 = undefined;
                var arg_2654 = undefined;
                var arg_2655 = undefined;
                var arg_2656 = undefined;
                var arg_2657 = undefined;
                var arg_2658 = undefined;
                var arg_2659 = undefined;
                var arg_2660 = undefined;
                var arg_2661 = undefined;
                var arg_2662 = undefined;
                var arg_2663 = undefined;
                var arg_2664 = undefined;
                var arg_2665 = undefined;
                var arg_2666 = undefined;
                var arg_2667 = undefined;
                var arg_2668 = undefined;
                var arg_2669 = undefined;
                var arg_2670 = undefined;
                var arg_2671 = undefined;
                var arg_2672 = undefined;
                var arg_2673 = undefined;
                var arg_2674 = undefined;
                var arg_2675 = undefined;
                var arg_2676 = undefined;
                var arg_2677 = undefined;
                var arg_2679 = undefined;
                var arg_2680 = undefined;
                var arg_2681 = undefined;
                var arg_2682 = undefined;
                var arg_2683 = undefined;
                var arg_2684 = undefined;
                var arg_2685 = undefined;
                var arg_2686 = undefined;
                var arg_2687 = undefined;
                var arg_2688 = undefined;
                var arg_2689 = undefined;
                var arg_2690 = undefined;
                var arg_2691 = undefined;
                var arg_2692 = undefined;
                var arg_2693 = undefined;
                var arg_2694 = undefined;
                return $options._copy_1(arg_2631, arg_2632, arg_2633, arg_2634, arg_2635, arg_2636, arg_2637, arg_2638, arg_2639, arg_2640, arg_2641, arg_2642, arg_2643, arg_2644, arg_2645, arg_2646, arg_2647, arg_2648, arg_2649, arg_2650, arg_2651, arg_2652, arg_2653, arg_2654, arg_2655, arg_2656, arg_2657, arg_2658, arg_2659, arg_2660, arg_2661, arg_2662, arg_2663, arg_2664, arg_2665, arg_2666, arg_2667, arg_2668, arg_2669, arg_2670, arg_2671, arg_2672, arg_2673, arg_2674, arg_2675, arg_2676, arg_2677, arg_2678, arg_2679, arg_2680, arg_2681, arg_2682, arg_2683, arg_2684, arg_2685, arg_2686, arg_2687, arg_2688, arg_2689, arg_2690, arg_2691, arg_2692, arg_2693, arg_2694);
              }
              else {
                if ((key === "math-concurrency")) {
                  var arg_3073 = options;
                  var arg_3013 = $options.math(options);
                  var _x4 = (ivalue >= 0 && ivalue <= 256);
                  if (_x4) {
                    var _x3 = ivalue;
                  }
                  else {
                    var _x3 = $options.concurrency($options.math(options));
                  }
                  var arg_3032 = _x3;
                  var arg_3014 = undefined;
                  var arg_3015 = undefined;
                  var arg_3016 = undefined;
                  var arg_3017 = undefined;
                  var arg_3018 = undefined;
                  var arg_3019 = undefined;
                  var arg_3020 = undefined;
                  var arg_3021 = undefined;
                  var arg_3022 = undefined;
                  var arg_3023 = undefined;
                  var arg_3024 = undefined;
                  var arg_3025 = undefined;
                  var arg_3026 = undefined;
                  var arg_3027 = undefined;
                  var arg_3028 = undefined;
                  var arg_3029 = undefined;
                  var arg_3030 = undefined;
                  var arg_3031 = undefined;
                  var arg_3033 = undefined;
                  var arg_3034 = undefined;
                  var arg_3035 = undefined;
                  var arg_3036 = undefined;
                  var arg_3037 = undefined;
                  var arg_3038 = undefined;
                  var arg_3039 = undefined;
                  var arg_3040 = undefined;
                  var arg_3120 = $options._copy(arg_3013, arg_3014, arg_3015, arg_3016, arg_3017, arg_3018, arg_3019, arg_3020, arg_3021, arg_3022, arg_3023, arg_3024, arg_3025, arg_3026, arg_3027, arg_3028, arg_3029, arg_3030, arg_3031, arg_3032, arg_3033, arg_3034, arg_3035, arg_3036, arg_3037, arg_3038, arg_3039, arg_3040);
                  var arg_3074 = undefined;
                  var arg_3075 = undefined;
                  var arg_3076 = undefined;
                  var arg_3077 = undefined;
                  var arg_3078 = undefined;
                  var arg_3079 = undefined;
                  var arg_3080 = undefined;
                  var arg_3081 = undefined;
                  var arg_3082 = undefined;
                  var arg_3083 = undefined;
                  var arg_3084 = undefined;
                  var arg_3085 = undefined;
                  var arg_3086 = undefined;
                  var arg_3087 = undefined;
                  var arg_3088 = undefined;
                  var arg_3089 = undefined;
                  var arg_3090 = undefined;
                  var arg_3091 = undefined;
                  var arg_3092 = undefined;
                  var arg_3093 = undefined;
                  var arg_3094 = undefined;
                  var arg_3095 = undefined;
                  var arg_3096 = undefined;
                  var arg_3097 = undefined;
                  var arg_3098 = undefined;
                  var arg_3099 = undefined;
                  var arg_3100 = undefined;
                  var arg_3101 = undefined;
                  var arg_3102 = undefined;
                  var arg_3103 = undefined;
                  var arg_3104 = undefined;
                  var arg_3105 = undefined;
                  var arg_3106 = undefined;
                  var arg_3107 = undefined;
                  var arg_3108 = undefined;
                  var arg_3109 = undefined;
                  var arg_3110 = undefined;
                  var arg_3111 = undefined;
                  var arg_3112 = undefined;
                  var arg_3113 = undefined;
                  var arg_3114 = undefined;
                  var arg_3115 = undefined;
                  var arg_3116 = undefined;
                  var arg_3117 = undefined;
                  var arg_3118 = undefined;
                  var arg_3119 = undefined;
                  var arg_3121 = undefined;
                  var arg_3122 = undefined;
                  var arg_3123 = undefined;
                  var arg_3124 = undefined;
                  var arg_3125 = undefined;
                  var arg_3126 = undefined;
                  var arg_3127 = undefined;
                  var arg_3128 = undefined;
                  var arg_3129 = undefined;
                  var arg_3130 = undefined;
                  var arg_3131 = undefined;
                  var arg_3132 = undefined;
                  var arg_3133 = undefined;
                  var arg_3134 = undefined;
                  var arg_3135 = undefined;
                  var arg_3136 = undefined;
                  return $options._copy_1(arg_3073, arg_3074, arg_3075, arg_3076, arg_3077, arg_3078, arg_3079, arg_3080, arg_3081, arg_3082, arg_3083, arg_3084, arg_3085, arg_3086, arg_3087, arg_3088, arg_3089, arg_3090, arg_3091, arg_3092, arg_3093, arg_3094, arg_3095, arg_3096, arg_3097, arg_3098, arg_3099, arg_3100, arg_3101, arg_3102, arg_3103, arg_3104, arg_3105, arg_3106, arg_3107, arg_3108, arg_3109, arg_3110, arg_3111, arg_3112, arg_3113, arg_3114, arg_3115, arg_3116, arg_3117, arg_3118, arg_3119, arg_3120, arg_3121, arg_3122, arg_3123, arg_3124, arg_3125, arg_3126, arg_3127, arg_3128, arg_3129, arg_3130, arg_3131, arg_3132, arg_3133, arg_3134, arg_3135, arg_3136);
                }
                else {
                  if ((key === "bibtex")) {
                    return $options._copy_1(options, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, value, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);
                  }
                  else {
                    if ((key === "convert")) {
                      return $options._copy_1(options, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, $options._copy($options.math(options), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, value, undefined), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);
                    }
                    else {
                      if ((key === "ps2pdf")) {
                        return $options._copy_1(options, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, $options._copy($options.math(options), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, value, undefined, undefined), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);
                      }
                      else {
                        if ((key === "dvips")) {
                          return $options._copy_1(options, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, $options._copy($options.math(options), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, value, undefined, undefined, undefined), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);
                        }
                        else {
                          if ((key === "zip")) {
                            return $options._copy_1(options, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, value, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);
                          }
                          else {
                            if ((key === "process-timeout")) {
                              var arg_4660 = options;
                              var _x4 = ((value !== "") && ivalue > 0);
                              var _x3 = (_x4) ? $std_core.intMultiply(ivalue,1000) : 0;
                              var arg_4713 = _x3;
                              var arg_4661 = undefined;
                              var arg_4662 = undefined;
                              var arg_4663 = undefined;
                              var arg_4664 = undefined;
                              var arg_4665 = undefined;
                              var arg_4666 = undefined;
                              var arg_4667 = undefined;
                              var arg_4668 = undefined;
                              var arg_4669 = undefined;
                              var arg_4670 = undefined;
                              var arg_4671 = undefined;
                              var arg_4672 = undefined;
                              var arg_4673 = undefined;
                              var arg_4674 = undefined;
                              var arg_4675 = undefined;
                              var arg_4676 = undefined;
                              var arg_4677 = undefined;
                              var arg_4678 = undefined;
                              var arg_4679 = undefined;
                              var arg_4680 = undefined;
                              var arg_4681 = undefined;
                              var arg_4682 = undefined;
                              var arg_4683 = undefined;
                              var arg_4684 = undefined;
                              var arg_4685 = undefined;
                              var arg_4686 = undefined;
                              var arg_4687 = undefined;
                              var arg_4688 = undefined;
                              var arg_4689 = undefined;
                              var arg_4690 = undefined;
                              var arg_4691 = undefined;
                              var arg_4692 = undefined;
                              var arg_4693 = undefined;
                              var arg_4694 = undefined;
                              var arg_4695 = undefined;
                              var arg_4696 = undefined;
                              var arg_4697 = undefined;
                              var arg_4698 = undefined;
                              var arg_4699 = undefined;
                              var arg_4700 = undefined;
                              var arg_4701 = undefined;
                              var arg_4702 = undefined;
                              var arg_4703 = undefined;
                              var arg_4704 = undefined;
                              var arg_4705 = undefined;
                              var arg_4706 = undefined;
                              var arg_4707 = undefined;
                              var arg_4708 = undefined;
                              var arg_4709 = undefined;
                              var arg_4710 = undefined;
                              var arg_4711 = undefined;
                              var arg_4712 = undefined;
                              var arg_4714 = undefined;
                              var arg_4715 = undefined;
                              var arg_4716 = undefined;
                              var arg_4717 = undefined;
                              var arg_4718 = undefined;
                              var arg_4719 = undefined;
                              var arg_4720 = undefined;
                              var arg_4721 = undefined;
                              var arg_4722 = undefined;
                              var arg_4723 = undefined;
                              return $options._copy_1(arg_4660, arg_4661, arg_4662, arg_4663, arg_4664, arg_4665, arg_4666, arg_4667, arg_4668, arg_4669, arg_4670, arg_4671, arg_4672, arg_4673, arg_4674, arg_4675, arg_4676, arg_4677, arg_4678, arg_4679, arg_4680, arg_4681, arg_4682, arg_4683, arg_4684, arg_4685, arg_4686, arg_4687, arg_4688, arg_4689, arg_4690, arg_4691, arg_4692, arg_4693, arg_4694, arg_4695, arg_4696, arg_4697, arg_4698, arg_4699, arg_4700, arg_4701, arg_4702, arg_4703, arg_4704, arg_4705, arg_4706, arg_4707, arg_4708, arg_4709, arg_4710, arg_4711, arg_4712, arg_4713, arg_4714, arg_4715, arg_4716, arg_4717, arg_4718, arg_4719, arg_4720, arg_4721, arg_4722, arg_4723);
                            }
                            else {
                              return options;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  else {
    if ((key === "latex")) {
      var arg_4975 = options;
      if ((value === "")) {
        var _x3 = "latex";
      }
      else {
        var _x3 = safeLatex(lvalue, $options.latex_1(options));
      }
      var arg_5027 = _x3;
      var arg_4976 = undefined;
      var arg_4977 = undefined;
      var arg_4978 = undefined;
      var arg_4979 = undefined;
      var arg_4980 = undefined;
      var arg_4981 = undefined;
      var arg_4982 = undefined;
      var arg_4983 = undefined;
      var arg_4984 = undefined;
      var arg_4985 = undefined;
      var arg_4986 = undefined;
      var arg_4987 = undefined;
      var arg_4988 = undefined;
      var arg_4989 = undefined;
      var arg_4990 = undefined;
      var arg_4991 = undefined;
      var arg_4992 = undefined;
      var arg_4993 = undefined;
      var arg_4994 = undefined;
      var arg_4995 = undefined;
      var arg_4996 = undefined;
      var arg_4997 = undefined;
      var arg_4998 = undefined;
      var arg_4999 = undefined;
      var arg_5000 = undefined;
      var arg_5001 = undefined;
      var arg_5002 = undefined;
      var arg_5003 = undefined;
      var arg_5004 = undefined;
      var arg_5005 = undefined;
      var arg_5006 = undefined;
      var arg_5007 = undefined;
      var arg_5008 = undefined;
      var arg_5009 = undefined;
      var arg_5010 = undefined;
      var arg_5011 = undefined;
      var arg_5012 = undefined;
      var arg_5013 = undefined;
      var arg_5014 = undefined;
      var arg_5015 = undefined;
      var arg_5016 = undefined;
      var arg_5017 = undefined;
      var arg_5018 = undefined;
      var arg_5019 = undefined;
      var arg_5020 = undefined;
      var arg_5021 = undefined;
      var arg_5022 = undefined;
      var arg_5023 = undefined;
      var arg_5024 = undefined;
      var arg_5025 = undefined;
      var arg_5026 = undefined;
      var arg_5028 = undefined;
      var arg_5029 = undefined;
      var arg_5030 = undefined;
      var arg_5031 = undefined;
      var arg_5032 = undefined;
      var arg_5033 = undefined;
      var arg_5034 = undefined;
      var arg_5035 = undefined;
      var arg_5036 = undefined;
      var arg_5037 = undefined;
      var arg_5038 = undefined;
      return $options._copy_1(arg_4975, arg_4976, arg_4977, arg_4978, arg_4979, arg_4980, arg_4981, arg_4982, arg_4983, arg_4984, arg_4985, arg_4986, arg_4987, arg_4988, arg_4989, arg_4990, arg_4991, arg_4992, arg_4993, arg_4994, arg_4995, arg_4996, arg_4997, arg_4998, arg_4999, arg_5000, arg_5001, arg_5002, arg_5003, arg_5004, arg_5005, arg_5006, arg_5007, arg_5008, arg_5009, arg_5010, arg_5011, arg_5012, arg_5013, arg_5014, arg_5015, arg_5016, arg_5017, arg_5018, arg_5019, arg_5020, arg_5021, arg_5022, arg_5023, arg_5024, arg_5025, arg_5026, arg_5027, arg_5028, arg_5029, arg_5030, arg_5031, arg_5032, arg_5033, arg_5034, arg_5035, arg_5036, arg_5037, arg_5038);
    }
    else {
      var _x3 = ((key === "pdflatex") || (key === "pdf-latex"));
      if (_x3) {
        var arg_5328 = options;
        if ((lvalue === "true")) {
          var _x4 = "default";
        }
        else {
          var _x4 = safeLatex(lvalue, $options.pdflatex(options));
        }
        var arg_5378 = _x4;
        var arg_5329 = undefined;
        var arg_5330 = undefined;
        var arg_5331 = undefined;
        var arg_5332 = undefined;
        var arg_5333 = undefined;
        var arg_5334 = undefined;
        var arg_5335 = undefined;
        var arg_5336 = undefined;
        var arg_5337 = undefined;
        var arg_5338 = undefined;
        var arg_5339 = undefined;
        var arg_5340 = undefined;
        var arg_5341 = undefined;
        var arg_5342 = undefined;
        var arg_5343 = undefined;
        var arg_5344 = undefined;
        var arg_5345 = undefined;
        var arg_5346 = undefined;
        var arg_5347 = undefined;
        var arg_5348 = undefined;
        var arg_5349 = undefined;
        var arg_5350 = undefined;
        var arg_5351 = undefined;
        var arg_5352 = undefined;
        var arg_5353 = undefined;
        var arg_5354 = undefined;
        var arg_5355 = undefined;
        var arg_5356 = undefined;
        var arg_5357 = undefined;
        var arg_5358 = undefined;
        var arg_5359 = undefined;
        var arg_5360 = undefined;
        var arg_5361 = undefined;
        var arg_5362 = undefined;
        var arg_5363 = undefined;
        var arg_5364 = undefined;
        var arg_5365 = undefined;
        var arg_5366 = undefined;
        var arg_5367 = undefined;
        var arg_5368 = undefined;
        var arg_5369 = undefined;
        var arg_5370 = undefined;
        var arg_5371 = undefined;
        var arg_5372 = undefined;
        var arg_5373 = undefined;
        var arg_5374 = undefined;
        var arg_5375 = undefined;
        var arg_5376 = undefined;
        var arg_5377 = undefined;
        var arg_5379 = undefined;
        var arg_5380 = undefined;
        var arg_5381 = undefined;
        var arg_5382 = undefined;
        var arg_5383 = undefined;
        var arg_5384 = undefined;
        var arg_5385 = undefined;
        var arg_5386 = undefined;
        var arg_5387 = undefined;
        var arg_5388 = undefined;
        var arg_5389 = undefined;
        var arg_5390 = undefined;
        var arg_5391 = undefined;
        return $options._copy_1(arg_5328, arg_5329, arg_5330, arg_5331, arg_5332, arg_5333, arg_5334, arg_5335, arg_5336, arg_5337, arg_5338, arg_5339, arg_5340, arg_5341, arg_5342, arg_5343, arg_5344, arg_5345, arg_5346, arg_5347, arg_5348, arg_5349, arg_5350, arg_5351, arg_5352, arg_5353, arg_5354, arg_5355, arg_5356, arg_5357, arg_5358, arg_5359, arg_5360, arg_5361, arg_5362, arg_5363, arg_5364, arg_5365, arg_5366, arg_5367, arg_5368, arg_5369, arg_5370, arg_5371, arg_5372, arg_5373, arg_5374, arg_5375, arg_5376, arg_5377, arg_5378, arg_5379, arg_5380, arg_5381, arg_5382, arg_5383, arg_5384, arg_5385, arg_5386, arg_5387, arg_5388, arg_5389, arg_5390, arg_5391);
      }
      else {
        var _x4 = ((key === "math-latex-full") || ((key === "math-pdflatex") || (key === "math-pdf-latex")));
        if (_x4) {
          var arg_5871 = options;
          var arg_5811 = $options.math(options);
          if ((lvalue === "true")) {
            var _x5 = "default";
          }
          else {
            var _x5 = safeLatex(lvalue, $options.latexFull($options.math(options)));
          }
          var arg_5834 = _x5;
          var arg_5812 = undefined;
          var arg_5813 = undefined;
          var arg_5814 = undefined;
          var arg_5815 = undefined;
          var arg_5816 = undefined;
          var arg_5817 = undefined;
          var arg_5818 = undefined;
          var arg_5819 = undefined;
          var arg_5820 = undefined;
          var arg_5821 = undefined;
          var arg_5822 = undefined;
          var arg_5823 = undefined;
          var arg_5824 = undefined;
          var arg_5825 = undefined;
          var arg_5826 = undefined;
          var arg_5827 = undefined;
          var arg_5828 = undefined;
          var arg_5829 = undefined;
          var arg_5830 = undefined;
          var arg_5831 = undefined;
          var arg_5832 = undefined;
          var arg_5833 = undefined;
          var arg_5835 = undefined;
          var arg_5836 = undefined;
          var arg_5837 = undefined;
          var arg_5838 = undefined;
          var arg_5918 = $options._copy(arg_5811, arg_5812, arg_5813, arg_5814, arg_5815, arg_5816, arg_5817, arg_5818, arg_5819, arg_5820, arg_5821, arg_5822, arg_5823, arg_5824, arg_5825, arg_5826, arg_5827, arg_5828, arg_5829, arg_5830, arg_5831, arg_5832, arg_5833, arg_5834, arg_5835, arg_5836, arg_5837, arg_5838);
          var arg_5872 = undefined;
          var arg_5873 = undefined;
          var arg_5874 = undefined;
          var arg_5875 = undefined;
          var arg_5876 = undefined;
          var arg_5877 = undefined;
          var arg_5878 = undefined;
          var arg_5879 = undefined;
          var arg_5880 = undefined;
          var arg_5881 = undefined;
          var arg_5882 = undefined;
          var arg_5883 = undefined;
          var arg_5884 = undefined;
          var arg_5885 = undefined;
          var arg_5886 = undefined;
          var arg_5887 = undefined;
          var arg_5888 = undefined;
          var arg_5889 = undefined;
          var arg_5890 = undefined;
          var arg_5891 = undefined;
          var arg_5892 = undefined;
          var arg_5893 = undefined;
          var arg_5894 = undefined;
          var arg_5895 = undefined;
          var arg_5896 = undefined;
          var arg_5897 = undefined;
          var arg_5898 = undefined;
          var arg_5899 = undefined;
          var arg_5900 = undefined;
          var arg_5901 = undefined;
          var arg_5902 = undefined;
          var arg_5903 = undefined;
          var arg_5904 = undefined;
          var arg_5905 = undefined;
          var arg_5906 = undefined;
          var arg_5907 = undefined;
          var arg_5908 = undefined;
          var arg_5909 = undefined;
          var arg_5910 = undefined;
          var arg_5911 = undefined;
          var arg_5912 = undefined;
          var arg_5913 = undefined;
          var arg_5914 = undefined;
          var arg_5915 = undefined;
          var arg_5916 = undefined;
          var arg_5917 = undefined;
          var arg_5919 = undefined;
          var arg_5920 = undefined;
          var arg_5921 = undefined;
          var arg_5922 = undefined;
          var arg_5923 = undefined;
          var arg_5924 = undefined;
          var arg_5925 = undefined;
          var arg_5926 = undefined;
          var arg_5927 = undefined;
          var arg_5928 = undefined;
          var arg_5929 = undefined;
          var arg_5930 = undefined;
          var arg_5931 = undefined;
          var arg_5932 = undefined;
          var arg_5933 = undefined;
          var arg_5934 = undefined;
          return $options._copy_1(arg_5871, arg_5872, arg_5873, arg_5874, arg_5875, arg_5876, arg_5877, arg_5878, arg_5879, arg_5880, arg_5881, arg_5882, arg_5883, arg_5884, arg_5885, arg_5886, arg_5887, arg_5888, arg_5889, arg_5890, arg_5891, arg_5892, arg_5893, arg_5894, arg_5895, arg_5896, arg_5897, arg_5898, arg_5899, arg_5900, arg_5901, arg_5902, arg_5903, arg_5904, arg_5905, arg_5906, arg_5907, arg_5908, arg_5909, arg_5910, arg_5911, arg_5912, arg_5913, arg_5914, arg_5915, arg_5916, arg_5917, arg_5918, arg_5919, arg_5920, arg_5921, arg_5922, arg_5923, arg_5924, arg_5925, arg_5926, arg_5927, arg_5928, arg_5929, arg_5930, arg_5931, arg_5932, arg_5933, arg_5934);
        }
        else {
          if ((key === "math-latex")) {
            var arg_6304 = options;
            var arg_6244 = $options.math(options);
            if ((lvalue === "true")) {
              var _x5 = "default";
            }
            else {
              var _x5 = safeLatex(lvalue, $options.latex($options.math(options)));
            }
            var arg_6266 = _x5;
            var arg_6245 = undefined;
            var arg_6246 = undefined;
            var arg_6247 = undefined;
            var arg_6248 = undefined;
            var arg_6249 = undefined;
            var arg_6250 = undefined;
            var arg_6251 = undefined;
            var arg_6252 = undefined;
            var arg_6253 = undefined;
            var arg_6254 = undefined;
            var arg_6255 = undefined;
            var arg_6256 = undefined;
            var arg_6257 = undefined;
            var arg_6258 = undefined;
            var arg_6259 = undefined;
            var arg_6260 = undefined;
            var arg_6261 = undefined;
            var arg_6262 = undefined;
            var arg_6263 = undefined;
            var arg_6264 = undefined;
            var arg_6265 = undefined;
            var arg_6267 = undefined;
            var arg_6268 = undefined;
            var arg_6269 = undefined;
            var arg_6270 = undefined;
            var arg_6271 = undefined;
            var arg_6351 = $options._copy(arg_6244, arg_6245, arg_6246, arg_6247, arg_6248, arg_6249, arg_6250, arg_6251, arg_6252, arg_6253, arg_6254, arg_6255, arg_6256, arg_6257, arg_6258, arg_6259, arg_6260, arg_6261, arg_6262, arg_6263, arg_6264, arg_6265, arg_6266, arg_6267, arg_6268, arg_6269, arg_6270, arg_6271);
            var arg_6305 = undefined;
            var arg_6306 = undefined;
            var arg_6307 = undefined;
            var arg_6308 = undefined;
            var arg_6309 = undefined;
            var arg_6310 = undefined;
            var arg_6311 = undefined;
            var arg_6312 = undefined;
            var arg_6313 = undefined;
            var arg_6314 = undefined;
            var arg_6315 = undefined;
            var arg_6316 = undefined;
            var arg_6317 = undefined;
            var arg_6318 = undefined;
            var arg_6319 = undefined;
            var arg_6320 = undefined;
            var arg_6321 = undefined;
            var arg_6322 = undefined;
            var arg_6323 = undefined;
            var arg_6324 = undefined;
            var arg_6325 = undefined;
            var arg_6326 = undefined;
            var arg_6327 = undefined;
            var arg_6328 = undefined;
            var arg_6329 = undefined;
            var arg_6330 = undefined;
            var arg_6331 = undefined;
            var arg_6332 = undefined;
            var arg_6333 = undefined;
            var arg_6334 = undefined;
            var arg_6335 = undefined;
            var arg_6336 = undefined;
            var arg_6337 = undefined;
            var arg_6338 = undefined;
            var arg_6339 = undefined;
            var arg_6340 = undefined;
            var arg_6341 = undefined;
            var arg_6342 = undefined;
            var arg_6343 = undefined;
            var arg_6344 = undefined;
            var arg_6345 = undefined;
            var arg_6346 = undefined;
            var arg_6347 = undefined;
            var arg_6348 = undefined;
            var arg_6349 = undefined;
            var arg_6350 = undefined;
            var arg_6352 = undefined;
            var arg_6353 = undefined;
            var arg_6354 = undefined;
            var arg_6355 = undefined;
            var arg_6356 = undefined;
            var arg_6357 = undefined;
            var arg_6358 = undefined;
            var arg_6359 = undefined;
            var arg_6360 = undefined;
            var arg_6361 = undefined;
            var arg_6362 = undefined;
            var arg_6363 = undefined;
            var arg_6364 = undefined;
            var arg_6365 = undefined;
            var arg_6366 = undefined;
            var arg_6367 = undefined;
            return $options._copy_1(arg_6304, arg_6305, arg_6306, arg_6307, arg_6308, arg_6309, arg_6310, arg_6311, arg_6312, arg_6313, arg_6314, arg_6315, arg_6316, arg_6317, arg_6318, arg_6319, arg_6320, arg_6321, arg_6322, arg_6323, arg_6324, arg_6325, arg_6326, arg_6327, arg_6328, arg_6329, arg_6330, arg_6331, arg_6332, arg_6333, arg_6334, arg_6335, arg_6336, arg_6337, arg_6338, arg_6339, arg_6340, arg_6341, arg_6342, arg_6343, arg_6344, arg_6345, arg_6346, arg_6347, arg_6348, arg_6349, arg_6350, arg_6351, arg_6352, arg_6353, arg_6354, arg_6355, arg_6356, arg_6357, arg_6358, arg_6359, arg_6360, arg_6361, arg_6362, arg_6363, arg_6364, arg_6365, arg_6366, arg_6367);
          }
          else {
            if ((key === "math-concurrency")) {
              var arg_6746 = options;
              var arg_6686 = $options.math(options);
              var _x6 = (ivalue >= 1 && ivalue <= 16);
              if (_x6) {
                var _x5 = ivalue;
              }
              else {
                var _x5 = $options.concurrency($options.math(options));
              }
              var arg_6705 = _x5;
              var arg_6687 = undefined;
              var arg_6688 = undefined;
              var arg_6689 = undefined;
              var arg_6690 = undefined;
              var arg_6691 = undefined;
              var arg_6692 = undefined;
              var arg_6693 = undefined;
              var arg_6694 = undefined;
              var arg_6695 = undefined;
              var arg_6696 = undefined;
              var arg_6697 = undefined;
              var arg_6698 = undefined;
              var arg_6699 = undefined;
              var arg_6700 = undefined;
              var arg_6701 = undefined;
              var arg_6702 = undefined;
              var arg_6703 = undefined;
              var arg_6704 = undefined;
              var arg_6706 = undefined;
              var arg_6707 = undefined;
              var arg_6708 = undefined;
              var arg_6709 = undefined;
              var arg_6710 = undefined;
              var arg_6711 = undefined;
              var arg_6712 = undefined;
              var arg_6713 = undefined;
              var arg_6793 = $options._copy(arg_6686, arg_6687, arg_6688, arg_6689, arg_6690, arg_6691, arg_6692, arg_6693, arg_6694, arg_6695, arg_6696, arg_6697, arg_6698, arg_6699, arg_6700, arg_6701, arg_6702, arg_6703, arg_6704, arg_6705, arg_6706, arg_6707, arg_6708, arg_6709, arg_6710, arg_6711, arg_6712, arg_6713);
              var arg_6747 = undefined;
              var arg_6748 = undefined;
              var arg_6749 = undefined;
              var arg_6750 = undefined;
              var arg_6751 = undefined;
              var arg_6752 = undefined;
              var arg_6753 = undefined;
              var arg_6754 = undefined;
              var arg_6755 = undefined;
              var arg_6756 = undefined;
              var arg_6757 = undefined;
              var arg_6758 = undefined;
              var arg_6759 = undefined;
              var arg_6760 = undefined;
              var arg_6761 = undefined;
              var arg_6762 = undefined;
              var arg_6763 = undefined;
              var arg_6764 = undefined;
              var arg_6765 = undefined;
              var arg_6766 = undefined;
              var arg_6767 = undefined;
              var arg_6768 = undefined;
              var arg_6769 = undefined;
              var arg_6770 = undefined;
              var arg_6771 = undefined;
              var arg_6772 = undefined;
              var arg_6773 = undefined;
              var arg_6774 = undefined;
              var arg_6775 = undefined;
              var arg_6776 = undefined;
              var arg_6777 = undefined;
              var arg_6778 = undefined;
              var arg_6779 = undefined;
              var arg_6780 = undefined;
              var arg_6781 = undefined;
              var arg_6782 = undefined;
              var arg_6783 = undefined;
              var arg_6784 = undefined;
              var arg_6785 = undefined;
              var arg_6786 = undefined;
              var arg_6787 = undefined;
              var arg_6788 = undefined;
              var arg_6789 = undefined;
              var arg_6790 = undefined;
              var arg_6791 = undefined;
              var arg_6792 = undefined;
              var arg_6794 = undefined;
              var arg_6795 = undefined;
              var arg_6796 = undefined;
              var arg_6797 = undefined;
              var arg_6798 = undefined;
              var arg_6799 = undefined;
              var arg_6800 = undefined;
              var arg_6801 = undefined;
              var arg_6802 = undefined;
              var arg_6803 = undefined;
              var arg_6804 = undefined;
              var arg_6805 = undefined;
              var arg_6806 = undefined;
              var arg_6807 = undefined;
              var arg_6808 = undefined;
              var arg_6809 = undefined;
              return $options._copy_1(arg_6746, arg_6747, arg_6748, arg_6749, arg_6750, arg_6751, arg_6752, arg_6753, arg_6754, arg_6755, arg_6756, arg_6757, arg_6758, arg_6759, arg_6760, arg_6761, arg_6762, arg_6763, arg_6764, arg_6765, arg_6766, arg_6767, arg_6768, arg_6769, arg_6770, arg_6771, arg_6772, arg_6773, arg_6774, arg_6775, arg_6776, arg_6777, arg_6778, arg_6779, arg_6780, arg_6781, arg_6782, arg_6783, arg_6784, arg_6785, arg_6786, arg_6787, arg_6788, arg_6789, arg_6790, arg_6791, arg_6792, arg_6793, arg_6794, arg_6795, arg_6796, arg_6797, arg_6798, arg_6799, arg_6800, arg_6801, arg_6802, arg_6803, arg_6804, arg_6805, arg_6806, arg_6807, arg_6808, arg_6809);
            }
            else {
              if ((key === "bibtex")) {
                return $options._copy_1(options, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, safeBibtex(lvalue, $options.bibtex(options)), undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);
              }
              else {
                return options;
              }
            }
          }
        }
      }
    }
  }
}
 
// koka exports:
return { 'safeBibtex': safeBibtex, 'safeLatex': safeLatex, 'updateSandbox': updateSandbox };
});